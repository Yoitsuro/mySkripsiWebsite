<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>ETH Forecast - TCN + LGBM</title>
    <!-- Global styles -->
    <link rel="stylesheet" href="css/style.css" />
    <!-- Page-specific styles -->
    <link rel="stylesheet" href="css/home.css" />
    <link rel="stylesheet" href="css/metrics.css" />
    <link rel="stylesheet" href="css/forecast.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="layout">
      <!-- SIDEBAR -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <h1 class="app-title">ETH Forecast</h1>
          <p class="app-subtitle">TCN + LGBM + Stacking</p>
        </div>

        <nav class="sidebar-nav">
          <button class="nav-btn active" data-page="home">Home</button>
          <button class="nav-btn" data-page="metrics">Metrics</button>
          <button class="nav-btn" data-page="forecast">Forecasting</button>
        </nav>
      </aside>

      <!-- MAIN CONTENT -->
      <main class="main">
        <!-- HOME -->
        <section id="page-home" class="page active">
          <h2>Harga Ethereum</h2>
          <p class="timezone-info">
            Waktu grafik menggunakan UTC+0 dari Binance. (Local time:
            <span id="localTime"></span>)
          </p>
          <p>Pilih rentang waktu</p>
          <div class="controls">
            <button class="range-btn primary" data-days="1">1 Hari</button>
            <button class="range-btn" data-days="7">7 Hari</button>
            <button class="range-btn" data-days="30">30 Hari</button>
          </div>
          <div class="status" id="homeStatus"></div>
          <canvas id="priceChart" height="120"></canvas>

          <!-- TABEL OHLCV BARU -->
          <h3>Data OHLCV Terkini</h3>
          <div class="ohlcv-table-wrapper">
            <table id="ohlcvTable">
              <thead>
                <tr>
                  <th>Waktu</th>
                  <th>Open (USDT)</th>
                  <th>High (USDT)</th>
                  <th>Low (USDT)</th>
                  <th>Close (USDT)</th>
                  <th>Volume (ETH)</th>
                  <th>Volume (USDT)</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- METRICS -->
        <section id="page-metrics" class="page">
          <h2>Performa Model</h2>
          <p>Metrik evaluasi pada data uji.</p>
          <div class="status" id="metricsStatus"></div>
          <table id="metricsTable">
            <thead>
              <tr>
                <th>Model</th>
                <th>RMSE</th>
                <th>MAPE</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <h3>Visualisasi Actual vs Prediksi</h3>
          <p>Menampilkan beberapa titik terakhir dari data uji.</p>
          <canvas id="evalChart" height="120"></canvas>
          <div class="status" id="evalStatus"></div>
        </section>

        <!-- FORECAST -->
        <section id="page-forecast" class="page">
          <h2>Forecast Harga Ethereum</h2>
          <p>
            Semua prediksi dibuat <strong>per jam</strong>. Misalnya, memilih
            horizon 5 jam berarti Anda memprediksi harga pada jam ke-1, ke-2,
            ..., hingga ke-5 dari sekarang.
          </p>
          <p>Maksimal prediksi: <strong>168 jam (7 hari)</strong>.</p>

          <div class="forecast-group">
            <div class="radio-options">
              <label>
                <input
                  type="radio"
                  class="horizon-radio"
                  name="horizon-group"
                  value="1"
                  checked
                />
                1 jam
              </label>
              <label>
                <input
                  type="radio"
                  class="horizon-radio"
                  name="horizon-group"
                  value="5"
                />
                5 jam
              </label>
              <label>
                <input
                  type="radio"
                  class="horizon-radio"
                  name="horizon-group"
                  value="24"
                />
                24 jam
              </label>
              <label>
                <input
                  type="radio"
                  class="horizon-radio"
                  name="horizon-group"
                  value="72"
                />
                72 jam
              </label>
            </div>

            <div class="custom-input-group">
              <label>Custom horizon (1â€“168 jam):</label>
              <input
                type="number"
                id="customHorizon"
                min="1"
                max="168"
                placeholder="Contoh: 12"
              />
              <div class="error-message" id="customHorizonError">
                Masukkan angka antara 1 dan 168.
              </div>
            </div>
          </div>

          <button id="btnForecast" class="primary">Hitung Forecast</button>
          <div class="status" id="forecastStatus"></div>
          <span class="status" id="forecastTimeNow"></span>
          <div class="forecast-table-wrapper">
            <table id="forecastTable">
              <thead>
                <tr>
                  <th>Horizon</th>
                  <th>Prediksi Close (Stacking) - USDT</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <br />
          <h3 class="chart-header">Visualisasi Forecast</h3>
          <canvas id="forecastChart" height="120"></canvas>
          <div class="status" id="forecastChartStatus"></div>
        </section>
      </main>
    </div>

    <script src="js/pages/home.js"></script>
    <script src="js/pages/metrics.js"></script>
    <script src="js/pages/forecast.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
